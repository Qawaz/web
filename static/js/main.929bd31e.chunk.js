(this["webpackJsonptimeline-web"]=this["webpackJsonptimeline-web"]||[]).push([[0],{33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncFileType=void 0,function(e){e.Note="Note",e.MindMap="MindMap",e.Reminder="Reminder",e.Tag="Tag",e.Category="Category",e.Attachment="Attachment",e.AttachmentRecord="AttachmentRecord",e.Unknown="Unknown"}(t.SyncFileType||(t.SyncFileType={}))},347:function(e,t,n){},699:function(e,t,n){},701:function(e,t,n){},702:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(32),c=n.n(i),o=n(20),s=n(15),l=n(17),u=n(36),d=n(35),h=(n(347),n(58)),j=n(45),p=n(742),b=n(1),m=Object(p.a)((function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1}}}));function f(e){var t=m();return Object(b.jsxs)("main",{className:t.content,children:[Object(b.jsx)("div",{className:t.toolbar}),e.children]})}var O,g=n(2),x=n.n(g),v=n(4),y=n(34),w=n(19),C=n(709),k=n(310),D=n(33),S=function e(){Object(s.a)(this,e),this.archived=!1,this.attachments=[],this.categoryId=-1,this.cloudId=null,this.colorIndex=-1,this.createdDate=Date.now(),this.deleted=!1,this.deletedDate=null,this.editedDate=Date.now(),this.id=null,this.permanentlyDeleted=!1,this.pinned=!1,this.reminderId=-1,this.tags=[],this.text="",this.title=""},T=function e(t,n,a,r){Object(s.a)(this,e),this.archived=!1,this.attachments=[],this.categoryId=-1,this.cloudId=null,this.colorIndex=0,this.content="",this.createdDate=Date.now(),this.deleted=!1,this.deletedDate=null,this.description="",this.editedDate=Date.now(),this.id=null,this.permanentlyDeleted=!1,this.pinned=!1,this.reminderId=-1,this.tags=[],this.text="",this.title="",this.content=t,this.id=n,this.text=a,this.title=r},I=function e(t){Object(s.a)(this,e),this.createdDate=Date.now(),this.deleted=!1,this.deletedDate=null,this.editedDate=Date.now(),this.id=null,this.name="",this.cloudId=null,this.name=t},N=function e(t){Object(s.a)(this,e),this.createdDate=Date.now(),this.deleted=!1,this.deletedDate=null,this.editedDate=Date.now(),this.id=null,this.name="",this.cloudId=null,this.name=t},E=n(320);function F(e){var t=e.time,n=new Date(e.time);if(e.repeat)switch(e.intervalType){case O.Hour:t=n.setHours(n.getHours()+e.intervalNumber);break;case O.Day:t=n.setDate(n.getDate()+e.intervalNumber);break;case O.Week:t=n.setDate(n.getDate()+7*e.intervalNumber);break;case O.Month:t=n.setMonth(n.getMonth()+e.intervalNumber);break;case O.Year:t=n.setFullYear(n.getFullYear()+e.intervalNumber)}return t}function R(e){if(e.repeat){if(e.lastTimeFired>0&&e.time<Date.now()){var t=e.time;return(e.forever||null!=e.untilDate&&e.untilDate>Date.now()||null!=e.untilEvents&&e.firedTimes>e.untilEvents)&&(t=F(e)),t}return e.time}return e.time}function M(e){var t=0,n=e.length;if(t>n)for(var a=t;a<n;a++){if(R(e[t])<R(e[n-1])){var r=e[t];e[t]=e[n],e[n]=r}t++,n--}return e}function A(e){return Object(E.a)(new Date(R(e)),"p PP")}function B(e){if(e.repeat){var t="repeats every ";return e.intervalNumber>1?t+=e.intervalNumber+" "+e.intervalType.toLowerCase()+"s ":t+=e.intervalType.toLowerCase()+" ",e.intervalType===O.Week&&(t+="on ",t+=e.weekDays.map((function(e){return e[0].toUpperCase()+e.substring(1,3)})).join(",")+" "),e.intervalType===O.Month&&(e.sameMonthDay?t+="on the same day ":t+="on the same date "),e.forever||(null!=e.untilDate?t+="until "+Object(E.a)(e.untilDate,"p PP")+" ":null!=e.untilEvents&&(t+="for "+e.untilEvents.toString()+" times ")),t}return"Does not repeat"}!function(e){e.Hour="Hour",e.Day="Day",e.Week="Week",e.Month="Month",e.Year="Year"}(O||(O={}));var L=function e(){Object(s.a)(this,e),this.createdDate=Date.now(),this.deleted=!1,this.editedDate=Date.now(),this.deletedDate=null,this.id=null,this.cloudId=null,this.name="",this.time=Date.now(),this.description="",this.isSticky=!1,this.lastTimeFired=-1,this.firedTimes=0,this.markedDone=!1,this.repeat=!1,this.intervalType=O.Day,this.intervalNumber=1,this.weekDays=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],this.sameMonthDay=!1,this.forever=!0,this.untilDate=null,this.untilEvents=null},P=new k.a("TimelineDB"),W="id,cloudId,createdDate,editedDate,deletedDate,deleted,";function U(e){try{switch(e.type){case D.SyncFileType.Note:return P.notes.where("cloudId").equals(e.id).first();case D.SyncFileType.MindMap:return P.mindmaps.where("cloudId").equals(e.id).first();case D.SyncFileType.Reminder:return P.reminders.where("cloudId").equals(e.id).first();case D.SyncFileType.Category:return P.categories.where("cloudId").equals(e.id).first();case D.SyncFileType.Tag:return P.tags.where("cloudId").equals(e.id).first();case D.SyncFileType.AttachmentRecord:return P.attachments.where("cloudId").equals(e.id).first();default:return console.warn("Unkown File Type Found"),null}}catch(t){return console.log(t),null}}function z(e){switch(e.type){case D.SyncFileType.Note:P.notes.where("cloudId").delete().catch((function(e){console.log(e)}));break;case D.SyncFileType.MindMap:P.mindmaps.where("cloudId").delete().catch((function(e){console.log(e)}));break;case D.SyncFileType.Reminder:P.reminders.where("cloudId").delete().catch((function(e){console.log(e)}));break;case D.SyncFileType.Category:P.categories.where("cloudId").delete().catch((function(e){console.log(e)}));break;case D.SyncFileType.Tag:P.tags.where("cloudId").delete().catch((function(e){console.log(e)}));break;case D.SyncFileType.AttachmentRecord:P.attachments.where("cloudId").delete().catch((function(e){console.log(e)}));break;default:console.warn("Unkown File Type Found")}}function H(){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.notes.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.notes.where("id").equals(t).first();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.notes.add(t).catch((function(e){console.warn("Error Adding Note To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.notes.put(t).catch((function(e){console.warn("Error Adding Note To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}P.version(1).stores({notes:W+"title,text,content,pinned,archived,categoryId,reminderId,colorIndex,tags,attachments,permanentlyDeleted",mindmaps:W+"title,text,content,pinned,archived,categoryId,colorIndex,tags,attachments,permanentlyDeleted",reminders:W+"description,isSticky,lastTimeFired,firedTimes,markedDone,repeat,intervalType,intervalNumber,weekDays,sameMonthDay,forever,untilDate,untilEvents",tags:W+"name",categories:W+"name",attachments:W+"fileCloudId,name,mimeType,type"}),P.notes.mapToClass(S),P.mindmaps.mapToClass(T),P.reminders.mapToClass(L),P.categories.mapToClass(N),P.tags.mapToClass(I);var X=n(808),K=n(133),_=n(322),Q=n(763);function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.mindmaps.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.mindmaps.add(t).catch((function(e){console.warn("Error Adding Mindmap To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.mindmaps.put(t).catch((function(e){console.warn("Error Adding Mindmap To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie,ce=n(745),oe=n(749),se=n(705),le=n(748),ue=n(809),de=n(750),he=n(160),je=n.n(he);!function(e){e.Light="light",e.Dark="dark"}(ie||(ie={}));var pe="'Raleway', sans-serif",be="'Noto Sans JP', sans-serif",me={typography:{h1:{fontFamily:pe},h2:{fontFamily:pe},h3:{fontFamily:pe},h4:{fontFamily:be},h5:{fontFamily:be}}},fe=Object(o.a)(Object(o.a)({},me),{},{palette:{type:"light",primary:{light:"rgba(255, 177, 0, 1)",main:"rgba(236, 119, 22, 1)",dark:"rgba(235, 99, 25, 1)"},secondary:{light:"rgba(224, 130, 96, 1)",main:"rgba(184, 110, 84, 1)",dark:"rgba(148, 89, 69, 1)"}}}),Oe=Object(o.a)(Object(o.a)({},me),{},{palette:{type:"dark",primary:{light:"rgba(255, 177, 0, 1)",main:"rgba(236, 119, 22, 1)",dark:"rgba(235, 99, 25, 1)"},secondary:{light:"rgba(224, 130, 96, 1)",main:"rgba(184, 110, 84, 1)",dark:"rgba(148, 89, 69, 1)"}}}),ge={themeType:ie.Light,setThemeType:function(e){},drawerOpen:!1,setDrawerOpen:function(e){},settingsOpen:!1,setSettingsOpen:function(e){},accountOpen:!1,setAccountOpen:function(e){}},xe=r.a.createContext(ge);function ve(e){return Object(b.jsxs)(xe.Provider,{value:e.state,children:[e.children,Object(b.jsx)("style",{children:e.state.themeType===ie.Dark?":root {\n                            color-scheme: dark;\n                    }":null})]})}function ye(){var e=r.a.useContext(xe);if(null==e)throw new Error("Storage Context outside provider");return e}var we={almostBlack:"#181A1B",lightBlack:"#2F3336",almostWhite:"#E6E6E6",white:"#FFF",white10:"rgba(255, 255, 255, 0.1)",black:"#000",black10:"rgba(0, 0, 0, 0.1)",primary:"#1AB6FF",greyLight:"#F4F7FA",grey:"#E8EBED",greyMid:"#C5CCD3",greyDark:"#DAE1E9"},Ce=Object(o.a)(Object(o.a)({},we),{},{fontFamily:"-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen, Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif",fontFamilyMono:"'SFMono-Regular',Consolas,'Liberation Mono', Menlo, Courier,monospace",fontWeight:400,zIndex:100,link:we.primary,placeholder:"#B1BECC",textSecondary:"#4E5C6E",textLight:we.white,textHighlight:"#b3e7ff",textHighlightForeground:we.black,selected:we.primary,codeComment:"#6a737d",codePunctuation:"#5e6687",codeNumber:"#d73a49",codeProperty:"#c08b30",codeTag:"#3d8fd1",codeString:"#032f62",codeSelector:"#6679cc",codeAttr:"#c76b29",codeEntity:"#22a2c9",codeKeyword:"#d73a49",codeFunction:"#6f42c1",codeStatement:"#22a2c9",codePlaceholder:"#3d8fd1",codeInserted:"#202746",codeImportant:"#c94922",blockToolbarBackground:we.white,blockToolbarTrigger:we.greyMid,blockToolbarTriggerIcon:we.white,blockToolbarItem:we.almostBlack,blockToolbarIcon:void 0,blockToolbarIconSelected:we.black,blockToolbarText:we.almostBlack,blockToolbarTextSelected:we.black,blockToolbarHoverBackground:we.greyLight,blockToolbarDivider:we.greyMid,noticeInfoBackground:"#F5BE31",noticeInfoText:we.almostBlack,noticeTipBackground:"#9E5CF7",noticeTipText:we.white,noticeWarningBackground:"#FF5C80",noticeWarningText:we.white}),ke=Object(o.a)(Object(o.a)({},Ce),{},{background:"rgba(0,0,0,0)",text:we.almostBlack,code:we.lightBlack,cursor:we.black,divider:we.greyMid,toolbarBackground:we.lightBlack,toolbarHoverBackground:we.black,toolbarInput:we.white10,toolbarItem:we.white,tableDivider:we.greyMid,tableSelected:we.primary,tableSelectedBackground:"#E5F7FF",quote:we.greyDark,codeBackground:we.greyLight,codeBorder:we.grey,horizontalRule:we.greyMid,imageErrorBackground:we.greyLight,scrollbarBackground:we.greyLight,scrollbarThumb:we.greyMid}),De=Object(o.a)(Object(o.a)({},Ce),{},{background:"rgba(0,0,0,0)",text:we.almostWhite,code:we.almostWhite,cursor:we.white,divider:"#4E5C6E",placeholder:"#52657A",toolbarBackground:we.white,toolbarHoverBackground:we.greyMid,toolbarInput:we.black10,toolbarItem:we.lightBlack,tableDivider:we.lightBlack,tableSelected:we.primary,tableSelectedBackground:"#002333",quote:we.greyDark,codeBackground:"rgba(0,0,0,0)",codeBorder:we.lightBlack,codeString:"#3d8fd1",horizontalRule:we.lightBlack,imageErrorBackground:"rgba(0, 0, 0, 0.5)",scrollbarBackground:we.black,scrollbarThumb:we.lightBlack});function Se(e){var t=0;return e.forEach((function(e){null!=e.id&&e.id>t&&(t=e.id)})),t+=1}var Te=["#FFFFFF","#FFA4A4","#FF95B9","#E2A1ED","#90CAF9","#81D4FA","#80DEEA","#A5D6A7","#C5E1A5","#E6EE9C","#FFE082","#FFAB91"],Ie=["#202020","#6E3838","#63283C","#5E3465","#3C6D95","#307898","#276971","#3E6040","#54673E","#73783C","#8F782C","#8E4D39"],Ne=function(e,t){return t===ie.Light?Te[e]:Ie[e]},Ee={notes:[],mindmaps:[],reminders:[],categories:[],tags:[],initNotes:function(){},initCategories:function(){},initMindMaps:function(){},initReminders:function(){},initTags:function(){}},Fe=r.a.createContext(Ee);function Re(e){return Object(b.jsx)(Fe.Provider,{value:e.storage,children:e.children})}function Me(){var e=r.a.useContext(Fe);if(null==e)throw new Error("Storage Context outside provider");return e}function Ae(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Date(e),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),r=new Intl.DateTimeFormat("en",{month:"short"}).format(n),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n);return t?"".concat(i," ").concat(r,",").concat(a):"".concat(i," ").concat(r)}var Be=n(746),Le=n(747),Pe=n(751),We=n(752),Ue=n(753),ze=n(754),He=n(755),Ve=n(324);function Ye(e){return Object(b.jsx)(Ve.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(b.jsx)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"})}))}var Ge=n(62),qe=n.n(Ge);function Ze(e){return Object(b.jsx)(Ve.a,Object(o.a)(Object(o.a)({},e),{},{children:Object(b.jsx)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12M8.8,14L10,12.8V4H14V12.8L15.2,14H8.8Z"})}))}n(699);var Je=Object(p.a)((function(e){return Object(X.a)({root:{maxWidth:345},selectedCard:{boxShadow:"0px 0px 1px 1px rgba(0,0,0,.07)",border:"2px solid "+e.palette.text.secondary},menuIcon:{marginLeft:"auto"},cardActionArea:{display:"flex",flexDirection:"row",opacity:0,transition:"opacity .25s ease-out"},cardIconBtn:{padding:"0.4em"},cardFooter:{margin:"0.5em 1em 0.5em 1em"},chipContainer:{margin:"0 0 0.5em 0"},cardChip:{margin:"0.2em"},footerText:{margin:"0 0 0 0.2em",color:e.palette.text.secondary,fontSize:"0.8rem",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},dateText:{}})}));function Xe(e){var t=e.item,n=e.openOnClick,r=t.id,i=t.editedDate,c=t.title,s=t.text,l=Je(),u=Me(),d=u.categories,h=u.tags,p=Object(j.f)(),m=Object(a.useMemo)((function(){if(-1!==t.categoryId){var e=d.find((function(e){return e.id===t.categoryId}));return null!=e?e:null}return null}),[d,t]),f=Object(a.useMemo)((function(){var e=[];return t.tags.forEach((function(t){var n=h.find((function(e){return e.id===t}));null!=n&&e.push(n)})),e}),[h,t]),O=ye().themeType,g={};return 0!==t.colorIndex&&-1!==t.colorIndex&&(g=Object(o.a)(Object(o.a)({},g),{},{background:Ne(t.colorIndex,O)})),Object(b.jsxs)(ce.a,{className:"".concat(l.root," ").concat(e.isSelected?l.selectedCard:""," main-item-card"),variant:"outlined",style:g,children:[Object(b.jsx)(se.a,{className:"card-action-btn",onClick:function(){e.onSelectDeselect()},children:e.isSelected?Object(b.jsx)(Be.a,{}):Object(b.jsx)(Le.a,{})}),Object(b.jsx)(le.a,{onClick:function(){n&&(t instanceof S?p.push("/note/"+r):p.push("/mindmap/"+r))},children:Object(b.jsxs)(oe.a,{children:[Object(b.jsx)(K.a,{gutterBottom:!0,variant:"h4",children:c}),Object(b.jsx)(je.a,{onChange:function(){},readOnly:!0,defaultValue:s.substring(0,s.length>102?102:s.length),theme:O===ie.Dark?De:ke})]})}),Object(b.jsxs)("div",{className:l.cardFooter,children:[Object(b.jsx)("div",{className:l.chipContainer,children:f.map((function(e){return null!=e?Object(b.jsx)(ue.a,{label:null===e||void 0===e?void 0:e.name,variant:"outlined",className:l.cardChip},t.id+"-"+e.id):null}))}),Object(b.jsxs)(K.a,{variant:"subtitle1",className:l.footerText,children:[null!=m?Object(b.jsx)("span",{children:null===m||void 0===m?void 0:m.name}):null,Object(b.jsx)("span",{className:l.dateText,children:Ae(i)})]})]}),Object(b.jsxs)(de.a,{disableSpacing:!0,className:"".concat(l.cardActionArea," card-actions"),children:[Object(b.jsx)(se.a,{"aria-label":"color",size:"small",className:l.cardIconBtn,onClick:function(){e.onPinUnpin(t)},children:t.pinned?Object(b.jsx)(Ye,{fontSize:"small"}):Object(b.jsx)(Ze,{fontSize:"small"})}),Object(b.jsx)(se.a,{"aria-label":"color",size:"small",className:l.cardIconBtn,onClick:function(){return e.onColor(t)},children:Object(b.jsx)(Pe.a,{fontSize:"small"})}),Object(b.jsx)(se.a,{"aria-label":"archive",size:"small",className:l.cardIconBtn,onClick:function(){return e.onArchiveUnarchive(t)},children:t.archived?Object(b.jsx)(We.a,{fontSize:"small"}):Object(b.jsx)(Ue.a,{fontSize:"small"})}),Object(b.jsx)(se.a,{"aria-label":"tag",size:"small",className:l.cardIconBtn,onClick:function(){return e.onTag(t,f)},children:Object(b.jsx)(ze.a,{fontSize:"small"})}),Object(b.jsx)(se.a,{"aria-label":"categorize",size:"small",className:l.cardIconBtn,onClick:function(){return e.onCategorize(t,m)},children:Object(b.jsx)(He.a,{fontSize:"small"})}),Object(b.jsx)(se.a,{"aria-label":"card-menu",className:"".concat(l.menuIcon," ").concat(l.cardIconBtn),size:"small",onClick:function(n){return e.onMenuOpen(n.currentTarget,t)},children:Object(b.jsx)(qe.a,{fontSize:"small"})})]})]})}var Ke=function e(t){Object(s.a)(this,e),this.title="",this.title=t};function _e(e,t){return e.filter((function(e){return(null==t.isArchived||t.isArchived===e.archived)&&(null==t.isPinned||t.isPinned===e.pinned)&&(null==t.isDeleted||t.isDeleted===e.deleted)&&(null==t.isPermanentlyDeleted||t.isPermanentlyDeleted===e.permanentlyDeleted)}))}var Qe,$e;!function(e){e[e.Zero=0]="Zero",e[e.Single=1]="Single",e[e.Full=2]="Full"}(Qe||(Qe={})),function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}($e||($e={}));var et={gridWidth:0,gridHeight:0,colWidth:400,recalculate:function(){},itemAdded:function(e,t,n,a,r){},itemRemoved:function(e){},itemUpdated:function(e){}},tt=r.a.createContext(et);var nt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).gridItems=[],e.state={gridWidth:0,gridHeight:0},e.gridElementRef=null,e.getColsCount=function(){var t=Math.ceil(e.state.gridWidth/e.props.columnWidth)-1;return t<1||t===1/0?1:t},e.reposition=function(){if("complete"===document.readyState)try{var t=0,n=0,a=e.getColsCount();e.gridItems.length<a&&(a=e.gridItems.length);var r=Array(a).fill(0),i=0;e.props.alignment===$e.Center?i=(e.state.gridWidth-a*e.props.columnWidth)/2:e.props.alignment===$e.End&&(i=e.state.gridWidth-a*e.props.columnWidth),e.gridItems.forEach((function(a){try{var c=0,o=0,s=a.itemColumnSpan===Qe.Single?e.props.columnWidth:a.itemColumnSpan===Qe.Full?e.state.gridWidth-i-i:0,l=a.getItemHeight();if(null!=l||0!==l||null!=s||0!==s){if(s>e.state.gridWidth&&(s=e.state.gridWidth),t+s<e.state.gridWidth&&a.itemColumnSpan===Qe.Single)c=t,t+=s,o=r[n],r[n]+=l,n++;else if(c=0,o=r[n=0],a.itemColumnSpan===Qe.Full){var u=0;r.forEach((function(e){e>u&&(u=e)})),r.forEach((function(e,t){r[t]=u+l})),o=u,t=0}else a.itemColumnSpan===Qe.Single&&(r[n]+=l,t=s,n++);a.update(s,i+c,o)}}catch(d){console.warn(d)}}))}catch(c){console.error(c)}},e.refresh=function(){null!=e.gridElementRef&&(e.state.gridWidth===e.gridElementRef.clientWidth&&e.state.gridHeight===e.gridElementRef.clientHeight||e.setState({gridWidth:e.gridElementRef.clientWidth,gridHeight:e.gridElementRef.clientHeight}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("Grid Mounted"),window.addEventListener("resize",this.refresh)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.refresh)}},{key:"componentDidUpdate",value:function(e,t,n){this.refresh(),this.reposition()}},{key:"render",value:function(){var e=this;return Object(b.jsx)(tt.Provider,{value:{colWidth:this.props.columnWidth,gridWidth:this.state.gridWidth,gridHeight:this.state.gridHeight,itemAdded:function(t,n,a,r,i){e.gridItems[t]={getItemWidth:a,getItemHeight:r,itemColumnSpan:n,update:i}},itemUpdated:function(t){e.refresh(),e.reposition()},itemRemoved:function(t){null!=e.gridItems[t]&&e.gridItems.splice(t,1)},recalculate:this.reposition},children:Object(b.jsx)("div",{ref:function(t){e.gridElementRef=t},style:{position:"relative"},className:this.props.className,children:this.props.items.map((function(t,n){return e.props.render(t,n)}))})})}}]),n}(r.a.Component);nt.defaultProps={alignment:$e.Center,columnWidth:260,className:""};var at=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).itemWidth=0,e.itemHeight=0,e.state={translateX:0,translateY:0,itemWidth:0},e.itemElementRef=null,e.updateTranslate=function(t,n,a){e.state.itemWidth===t&&n===e.state.translateX&&a===e.state.translateY||e.setState({itemWidth:t,translateX:n,translateY:a})},e.reportData=function(){e.context.itemAdded(e.props.index,e.props.spans,(function(){var t;return null===(t=e.itemElementRef)||void 0===t?void 0:t.clientWidth}),(function(){var t;return null===(t=e.itemElementRef)||void 0===t?void 0:t.clientHeight}),e.updateTranslate)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.reportData()}},{key:"componentDidUpdate",value:function(e,t,n){this.reportData(),this.context.itemUpdated(this.props.index)}},{key:"componentWillUnmount",value:function(){this.context.itemRemoved(this.props.index)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{ref:function(t){e.itemElementRef=t},style:{width:this.state.itemWidth+"px",position:"absolute",transform:"translate(".concat(this.state.translateX,"px,").concat(this.state.translateY,"px)"),transition:"transform .3s ease-out",overflowX:"hidden"},children:this.props.children})}}]),n}(r.a.Component);at.contextType=tt,at.defaultProps={spans:Qe.Single};var rt=n(5),it=n(756),ct=n(757),ot=n(758),st=Object(C.a)((function(e){var t;return Object(X.a)({appBar:(t={},Object(rt.a)(t,e.breakpoints.up("sm"),{width:"100%"}),Object(rt.a)(t,"background",e.palette.background.default),Object(rt.a)(t,"boxShadow","0px 0px 0px 0px"),Object(rt.a)(t,"borderBottom","1px solid "+e.palette.divider),t),menuButton:{},selectionTitle:{padding:"0em 1em"},rightContainer:{marginLeft:"auto"}})}));function lt(e){var t=st();return e.isVisible?Object(b.jsx)(it.a,{position:"fixed",className:"".concat(t.appBar),color:"transparent",children:Object(b.jsxs)(ct.a,{children:[Object(b.jsx)(se.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e.onClose,className:t.menuButton,children:Object(b.jsx)(ot.a,{})}),Object(b.jsx)(K.a,{variant:"h6",noWrap:!0,className:t.selectionTitle,children:e.title}),Object(b.jsx)("div",{className:t.rightContainer,children:e.children})]})}):null}var ut=n(759),dt=function(e){return Object(b.jsxs)(lt,{title:e.checked.length.toString(),isVisible:e.checked.length>0,onClose:function(){return e.setChecked([])},children:[e.showPinUnpin?Object(b.jsx)(se.a,{onClick:e.onPinUnPin,children:e.checked.filter((function(e){return e.pinned})).length>0?Object(b.jsx)(Ye,{}):Object(b.jsx)(Ze,{})}):null,e.showArchiveUnArchive?Object(b.jsx)(se.a,{onClick:e.onArchiveUnArchive,children:e.checked.filter((function(e){return e.archived})).length>0?Object(b.jsx)(We.a,{}):Object(b.jsx)(Ue.a,{})}):null,e.showTag?Object(b.jsx)(se.a,{onClick:e.onTag,children:Object(b.jsx)(ze.a,{})}):null,e.showCategory?Object(b.jsx)(se.a,{onClick:e.onCategorize,children:Object(b.jsx)(He.a,{})}):null,Object(b.jsx)(se.a,{onClick:e.onDelete,children:Object(b.jsx)(ut.a,{})})]})};dt.defaultProps={showPinUnpin:!0,showArchiveUnArchive:!0,showTag:!0,showCategory:!0};var ht=n(762),jt=n(707),pt=n(772),bt=n(774),mt=n(773),ft=n(805),Ot=n(764),gt=n(776),xt=n(327),vt=n(777);function yt(){return wt.apply(this,arguments)}function wt(){return(wt=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.tags.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.tags.add(t).catch((function(e){console.warn("Error Adding Tag To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e){return St.apply(this,arguments)}function St(){return(St=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.tags.put(t).catch((function(e){console.warn("Error Adding Tag To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tt=Object(p.a)((function(e){return Object(X.a)({menuItem:{}})}));function It(e){var t=Tt(),n=Me().initTags;return Object(b.jsxs)(_.a,{open:Boolean(e.anchorEl),onClose:e.onMenuClose,anchorEl:e.anchorEl,children:[Object(b.jsx)(Q.a,{onClick:function(){e.onItemSelect(),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Select"})}),Object(b.jsx)(Q.a,{onClick:function(){e.onShowTagDialog(),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Edit"})}),Object(b.jsx)(Q.a,{onClick:function(){Jt(e.tag).then((function(){n()})),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Delete"})})]})}var Nt=n(771),Et=n(804),Ft=n(770),Rt=n(766),Mt=n(765);function At(e){var t=Me(),n=t.tags,r=t.initTags,i=Object(a.useState)(e.tag.name),c=Object(w.a)(i,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){s(e.tag.name)}),[e.tag]),Object(b.jsxs)(Ot.a,{open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(Mt.a,{id:"form-dialog-title",children:null==e.tag.id||-1===e.tag.id?"Create Tag":"Update Tag"}),Object(b.jsx)(Rt.a,{children:Object(b.jsx)(Et.a,{autoFocus:!0,margin:"dense",id:"name",label:"Tag Name",type:"text",value:o,onChange:function(e){s(e.currentTarget.value)},fullWidth:!0})}),Object(b.jsxs)(Ft.a,{children:[Object(b.jsx)(Nt.a,{onClick:function(){return e.setOpen(!1)},color:"primary",children:"Cancel"}),Object(b.jsx)(Nt.a,{color:"primary",onClick:function(){e.tag.name=o,e.setOpen(!1),null==e.tag.id||-1===e.tag.id?(e.tag.id=Se(n),Ct(e.tag)):Dt(e.tag),yt().then((function(e){r()}))},children:null==e.tag.id||-1===e.tag.id?"Create":"Update"})]})]})}function Bt(e){return Object(b.jsx)(lt,{title:e.checked.length.toString(),isVisible:e.checked.length>0,onClose:function(){return e.setChecked([])},children:Object(b.jsx)(se.a,{onClick:e.onDelete,children:Object(b.jsx)(ut.a,{})})})}function Lt(e){(function(e){return e&&"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()}function Pt(e){var t=e.onLongPress,n=e.onClick,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.delay,c=void 0===i?300:i,s=r.shouldPreventDefault,l=void 0===s||s,u=Object(a.useState)(!1),d=Object(w.a)(u,2),h=d[0],j=d[1],p=Object(a.useRef)(),b=Object(a.useRef)(),m=Object(a.useCallback)((function(e){e.persist();var n=Object(o.a)({},e);l&&e.target&&(e.target.addEventListener("touchend",Lt,{passive:!1}),b.current=e.target),p.current=setTimeout((function(){t(n),j(!0)}),c)}),[t,c,l]),f=Object(a.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.current&&clearTimeout(p.current),t&&!h&&(null===n||void 0===n||n(e)),j(!1),l&&b.current&&b.current.removeEventListener("touchend",Lt)}),[l,n,h]);return{onMouseDown:function(e){return m(e)},onTouchStart:function(e){return m(e)},onMouseUp:function(e){return f(e)},onMouseLeave:function(e){return f(e,!1)},onTouchEnd:function(e){return f(e)}}}function Wt(e){return Object(b.jsxs)(r.a.Fragment,{children:[e.isSelectionMode?Object(b.jsx)(pt.a,{children:Object(b.jsx)(ft.a,{edge:"start",checked:e.isSelected,tabIndex:-1,disableRipple:!0})}):Object(b.jsx)(pt.a,{children:Object(b.jsx)(ze.a,{})}),Object(b.jsx)(mt.a,{primary:e.tag.name,secondary:Ae(e.tag.createdDate)}),Object(b.jsx)(bt.a,{style:{marginRight:"1em"},children:Object(b.jsx)(se.a,{edge:"end","aria-label":"menu",onClick:function(t){return e.onShowTagMenu(t.currentTarget)},children:Object(b.jsx)(qe.a,{})})})]})}var Ut=Object(p.a)((function(e){return Object(X.a)({tagsList:{width:"100%",backgroundColor:e.palette.background.paper}})}));function zt(e){var t=Ut(),n=r.a.useState([]),i=Object(w.a)(n,2),c=i[0],s=i[1],l=Me(),u=l.tags,d=l.initTags,h=Object(a.useState)(!1),j=Object(w.a)(h,2),p=j[0],m=j[1],f=Object(a.useState)(new I("")),O=Object(w.a)(f,2),g=O[0],x=O[1],v=Object(a.useState)(),C=Object(w.a)(v,2),k=C[0],D=C[1];Object(a.useEffect)((function(){d()}),[d]);var S=function(e){var t=c.indexOf(e),n=Object(y.a)(c);t<0?n.push(e):n.splice(t,1),s(n)},T=Pt({onLongPress:function(e){var t=parseInt(e.currentTarget.getAttribute("tagid").trim());null!=t&&S(t)},onClick:function(e){if(c.length>0){var t=parseInt(e.currentTarget.getAttribute("tagid").trim());null!=t&&S(t)}}},{delay:600}),N=e.EmptyListComponent;return u.length>0?Object(b.jsxs)(ht.a,{className:t.tagsList,children:[u.filter((function(e){return!e.deleted})).map((function(e){return Object(b.jsx)(jt.a,Object(o.a)(Object(o.a)({tagid:e.id,dense:!0,button:!0},T),{},{children:Object(b.jsx)(Wt,{isSelectionMode:c.length>0,isSelected:c.findIndex((function(t){return t===e.id}))>-1,tag:e,onShowTagDialog:function(){x(e),m(!0)},onShowTagMenu:function(t){x(e),D(t)}})}),e.id)})),Object(b.jsx)(It,{onMenuClose:function(){return D(null)},anchorEl:k,tag:g,onShowTagDialog:function(){return m(!0)},onItemSelect:function(){null!=g.id&&S(g.id)}}),Object(b.jsx)(At,{tag:g,open:p,setOpen:m}),Object(b.jsx)(Bt,{checked:c,setChecked:s,onDelete:function(){c.forEach((function(e){var t=u.find((function(t){return t.id===e}));null!=t&&Jt(t).then((function(){return d()}))})),s([])}})]}):Object(b.jsx)(r.a.Fragment,{children:N})}var Ht=n(775),Vt=Object(C.a)((function(e){return Object(X.a)({emptyContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},emptyContent:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",top:"50%",transform:"translateY(-50%)"},hourGlass:{width:"5rem",height:"5rem"}})})),Yt=function(e){var t=Vt();return Object(b.jsx)("div",{className:t.emptyContainer,children:Object(b.jsxs)("div",{className:t.emptyContent,children:[Object(b.jsx)(Ht.a,{className:t.hourGlass,color:"secondary"}),Object(b.jsx)(K.a,{variant:"h2",children:e.title}),Object(b.jsx)(K.a,{variant:"body1",color:"textSecondary",children:e.message})]})})};Yt.defaultProps={title:"There's nothing here",message:"The list is empty"};var Gt=Yt;function qt(){return Object(b.jsxs)(f,{children:[Object(b.jsx)(Kt,{}),Object(b.jsx)(zt,{EmptyListComponent:Object(b.jsx)(Gt,{})})]})}var Zt=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new I(t)).id=Se(n),e.next=4,Ct(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.deleted=!0,e.next=3,Dt(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=Object(p.a)((function(e){return Object(X.a)({creatorRow:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},creatorIcon:{marginLeft:"0.8em"},tagInput:{padding:"0.6em 1.5em"},creatorBtn:{marginRight:"1em"}})}));function Kt(){var e=Xt(),t=Me(),n=t.tags,r=t.initTags,i=Object(a.useState)(""),c=Object(w.a)(i,2),o=c[0],s=c[1];return Object(b.jsxs)("div",{className:e.creatorRow,children:[Object(b.jsx)(gt.a,{className:e.creatorIcon,children:Object(b.jsx)(ze.a,{})}),Object(b.jsx)(xt.a,{fullWidth:!0,placeholder:"Create Tag",className:e.tagInput,value:o,onChange:function(e){s(e.target.value)}}),Object(b.jsx)(se.a,{className:e.creatorBtn,onClick:function(){Zt(o,n).then((function(){s(""),r()}))},children:Object(b.jsx)(vt.a,{})})]})}var _t=Object(p.a)((function(e){return Object(X.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}})})),Qt=function(e){var t=e.isOpen,n=e.onClose,i=e.selectedTags,c=e.onSelectionChange,o=_t(),s=r.a.useState(i),l=Object(w.a)(s,2),u=l[0],d=l[1];Object(a.useEffect)((function(){d(i)}),[i]);var h=Me().tags,j=function(e){return function(){var t=u.findIndex((function(t){return t.id===e.id})),n=Object(y.a)(u);t<0?n.push(e):n.splice(t,1),d(n),c(n)}};return Object(b.jsx)(Ot.a,{open:t,onClose:function(){return n(u)},maxWidth:"md",fullWidth:!1,children:Object(b.jsxs)(ht.a,{className:o.root,children:[Object(b.jsx)(Kt,{}),h.map((function(e){var t="checkbox-list-label-".concat(e.id);return Object(b.jsxs)(jt.a,{role:void 0,dense:!0,button:!0,onClick:j(e),children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(ft.a,{edge:"start",checked:u.findIndex((function(t){return t.id===e.id}))>-1,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(b.jsx)(mt.a,{id:t,primary:e.name}),Object(b.jsx)(bt.a,{children:Object(b.jsx)(se.a,{edge:"end","aria-label":"comments",children:Object(b.jsx)(qe.a,{})})})]},e.id)}))]})})};Qt.defaultProps={onSelectionChange:function(){}};var $t=n(802),en=n(778),tn=n(779);function nn(){return an.apply(this,arguments)}function an(){return(an=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.categories.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.categories.add(t).catch((function(e){console.warn("Error Category To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e){return sn.apply(this,arguments)}function sn(){return(sn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.categories.put(t).catch((function(e){console.warn("Error Category To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ln=Object(p.a)((function(e){return Object(X.a)({categoriesList:{width:"100%",backgroundColor:e.palette.background.paper}})}));function un(){var e=ln(),t=r.a.useState([]),n=Object(w.a)(t,2),i=n[0],c=n[1],s=Me(),l=s.categories,u=s.initCategories;Object(a.useEffect)((function(){u()}),[u]);var d=function(e){var t=i.findIndex((function(t){return t===e}));if(t<0)c([].concat(Object(y.a)(i),[e]));else{var n=Object(y.a)(i);n.splice(t,1),c(n)}},h=Pt({onLongPress:function(e){var t=parseInt(e.currentTarget.getAttribute("catid").trim());null!=t&&d(t)},onClick:function(e){if(i.length>0){var t=parseInt(e.currentTarget.getAttribute("catid").trim());null!=t&&d(t)}}},{delay:600});return Object(b.jsxs)(f,{children:[Object(b.jsx)(hn,{}),Object(b.jsx)(ht.a,{className:e.categoriesList,children:l.map((function(e){return Object(b.jsxs)(jt.a,Object(o.a)(Object(o.a)({role:void 0,catid:e.id,dense:!0,button:!0},h),{},{children:[i.length>0?Object(b.jsx)(pt.a,{children:Object(b.jsx)(ft.a,{edge:"start",checked:i.findIndex((function(t){return t===e.id}))>-1,tabIndex:-1,disableRipple:!0})}):Object(b.jsx)(pt.a,{children:Object(b.jsx)(en.a,{})}),Object(b.jsx)(mt.a,{primary:e.name,secondary:Ae(e.createdDate)}),Object(b.jsxs)(bt.a,{children:[Object(b.jsx)(se.a,{edge:"end","aria-label":"comments",children:Object(b.jsx)(ut.a,{})}),Object(b.jsx)(se.a,{edge:"end","aria-label":"comments",children:Object(b.jsx)(tn.a,{})}),Object(b.jsx)(se.a,{edge:"end","aria-label":"comments",children:Object(b.jsx)(qe.a,{})})]})]}),e.id)}))})]})}var dn=Object(p.a)((function(e){return Object(X.a)({creatorRow:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},creatorIcon:{marginLeft:"0.8em"},categoryInput:{padding:"0.6em 1.5em"},creatorBtn:{marginRight:"1em"}})}));function hn(){var e=dn(),t=Me(),n=t.categories,r=t.initCategories,i=Object(a.useState)(""),c=Object(w.a)(i,2),o=c[0],s=c[1];return Object(b.jsxs)("div",{className:e.creatorRow,children:[Object(b.jsx)(gt.a,{className:e.creatorIcon,children:Object(b.jsx)(ze.a,{})}),Object(b.jsx)(xt.a,{fullWidth:!0,placeholder:"Create Category",className:e.categoryInput,value:o,onChange:function(e){s(e.target.value)}}),Object(b.jsx)(se.a,{className:e.creatorBtn,onClick:function(){var e=new N(o);e.id=Se(n),rn(e).then((function(){r()})).then((function(){s("")}))},children:Object(b.jsx)(vt.a,{})})]})}var jn=Object(p.a)((function(e){return Object(X.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}})})),pn=function(e){var t=e.isOpen,n=e.onClose,r=e.activeCategory,i=e.onSelectionChange,c=jn(),o=Object(a.useState)(new N("Uncategorized")),s=Object(w.a)(o,2),l=s[0],u=s[1];Object(a.useEffect)((function(){u(null!=r?r:new N("Uncategorized"))}),[r]);var d=Me().categories;return Object(b.jsx)(Ot.a,{open:t,onClose:function(){return n(l)},maxWidth:"md",fullWidth:!1,children:Object(b.jsxs)(ht.a,{className:c.root,children:[Object(b.jsx)(hn,{}),[new N("Uncategorized")].concat(Object(y.a)(d)).map((function(e){var t="checkbox-list-label-".concat(e.id);return Object(b.jsxs)(jt.a,{role:void 0,dense:!0,button:!0,onClick:function(){u(e),i(e)},children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)($t.a,{edge:"start",checked:l.id===e.id,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(b.jsx)(mt.a,{id:t,primary:e.name}),Object(b.jsx)(bt.a,{children:Object(b.jsx)(se.a,{edge:"end","aria-label":"comments",children:Object(b.jsx)(qe.a,{})})})]},e.id)}))]})})};pn.defaultProps={onSelectionChange:function(){}};var bn=Object(p.a)((function(e){return Object(X.a)({colorRow:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",padding:"1rem"},colorNode:{width:"3rem",height:"3rem",borderRadius:"50%",margin:"0.4rem",cursor:"pointer"},activeColor:{border:"2px solid "+e.palette.text.primary}})})),mn=function(e){var t,n=bn(),r=ye().themeType,i=Object(a.useState)(e.activeColorIndex),c=Object(w.a)(i,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){s(e.activeColorIndex)}),[e.activeColorIndex]),t=r===ie.Light?Te:Ie,Object(b.jsx)(Ot.a,{open:e.isOpen,onClose:e.onClose,maxWidth:"xs",fullWidth:!1,children:Object(b.jsx)("div",{className:n.colorRow,children:t.map((function(t,a){return Object(b.jsx)(se.a,{className:"".concat(n.colorNode," ").concat(a===o?n.activeColor:""),style:{background:t},onClick:function(){s(a),e.onSelectionChange(a,t)}},t)}))})})},fn=n(780),On=n(781),gn=Object(C.a)((function(e){return Object(X.a)({menuItem:{padding:"0 0.8em"},itemGrid:{padding:"2em 0em"},itemCard:{padding:"0.5em 0.5em"},sectionItem:{padding:"1em 1em"}})})),xn=function(e){var t=gn(),n=Me(),i=n.notes,c=n.initNotes,o=n.mindmaps,s=n.initMindMaps,l=r.a.useState([]),u=Object(w.a)(l,2),d=u[0],h=u[1],j=Object(a.useState)(!1),p=Object(w.a)(j,2),m=p[0],f=p[1],O=Object(a.useState)(!1),g=Object(w.a)(O,2),x=g[0],v=g[1],C=Object(a.useState)(!1),k=Object(w.a)(C,2),D=k[0],I=k[1];Object(a.useEffect)((function(){c(),s()}),[s,c]);var E=Object(a.useMemo)((function(){return function(e,t,n,a){var r=_e([].concat(Object(y.a)(e),Object(y.a)(t)),n).sort((function(e,t){return t.editedDate-e.editedDate})),i=[];return null!=a?a.forEach((function(e){var t=_e(r,e);t.length>0&&null!=e.name&&(i=[].concat(Object(y.a)(i),[new Ke(e.name)],Object(y.a)(t)))})):i=r,i}(i,o,e.mainFilter,e.filters)}),[i,o,e.mainFilter,e.filters]),F=Object(a.useState)(null),R=Object(w.a)(F,2),M=R[0],A=R[1],B=Object(a.useState)(null),L=Object(w.a)(B,2),P=L[0],W=L[1],U=Object(a.useState)([]),z=Object(w.a)(U,2),H=z[0],V=z[1],Y=Object(a.useState)(new N("")),G=Object(w.a)(Y,2),q=G[0],Z=G[1],J=function(e,t){A(e),W(t)},X=function(){A(null),W(null)},$=function(e){(null==e||e instanceof S)&&c(),(null==e||e instanceof T)&&s()},ee=function(e){e.length>0&&(1===e.length?$(e[0]):(c(),s())),h([])},te=function(e){var t=d.indexOf(e),n=Object(y.a)(d);t<0?n.push(e):n.splice(t,1),h(n)},ne=e.EmptyListComponent;return E.length>0?Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(nt,{className:t.itemGrid,items:E,render:function(e,n){var a;return a=e instanceof S?"n"+e.id:e instanceof T?"m"+e.id:"s"+e.title,e instanceof Ke?Object(b.jsx)(at,{index:n,spans:Qe.Full,children:Object(b.jsx)("div",{className:t.sectionItem,children:Object(b.jsx)(K.a,{variant:"caption",children:e.title})})},a):Object(b.jsx)(at,{index:n,children:Object(b.jsx)("div",{className:t.itemCard,children:Object(b.jsx)(Xe,{item:e,isSelected:d.indexOf(e)>-1,openOnClick:!0,onMenuOpen:J,onSelectDeselect:function(){te(e)},onArchiveUnarchive:function(e){In(e).then((function(){return $(e)})),X()},onPinUnpin:function(e){Sn(e).then((function(){return $(e)}))},onTag:function(e,t){W(e),V(t),v(!0)},onCategorize:function(e,t){W(e),Z(t),I(!0)},onColor:function(e){W(e),f(!0)}})})},a)}}),Object(b.jsx)(dt,{checked:d,setChecked:h,showPinUnpin:!0,showArchiveUnArchive:!0,onArchiveUnArchive:function(){d.forEach(In),$(null),h([])},onCategorize:function(){I(!0)},onPinUnPin:function(){d.forEach(Sn),$(null),h([])},onTag:function(){v(!0)},onDelete:function(){d.forEach(kn),$(null),h([])}}),Object(b.jsx)(mn,{isOpen:m,onClose:function(){return f(!1)},activeColorIndex:null==(null===P||void 0===P?void 0:P.colorIndex)?0:null===P||void 0===P?void 0:P.colorIndex,onSelectionChange:function(e,t){null!=P&&(P.colorIndex=e,yn(P).then((function(){return $(P)})))}}),Object(b.jsx)(Qt,{isOpen:x,onClose:function(e){v(!1);var t=vn(d,P);t.forEach((function(t){t.tags=e.filter((function(e){return null!=e.id})).map((function(e){return e.id})),yn(t)})),ee(t)},selectedTags:H}),Object(b.jsx)(pn,{isOpen:D,onClose:function(e){I(!1);var t=vn(d,P);t.forEach((function(t){null!=e.id&&(t.categoryId=e.id,yn(t))})),ee(t)},activeCategory:q}),Object(b.jsxs)(_.a,{id:"simple-menu",anchorEl:M,keepMounted:!0,open:Boolean(M),onClose:function(){return A(null)},children:[Object(b.jsxs)(Q.a,{onClick:function(){null!=P&&(te(P),X())},children:[Object(b.jsx)(vt.a,{fontSize:"small"}),Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Select"})]}),Object(b.jsxs)(Q.a,{onClick:function(){},children:[Object(b.jsx)(fn.a,{fontSize:"small"}),Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Share"})]}),null==P||P.deleted?Object(b.jsxs)("div",{children:[Object(b.jsxs)(Q.a,{onClick:function(){null!=P&&(!function(e){Cn.apply(this,arguments)}(P),$(P),X())},children:[Object(b.jsx)(On.a,{fontSize:"small"}),Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Restore"})]}),Object(b.jsxs)(Q.a,{onClick:function(){null!=P&&(kn(P),$(P),X())},children:[Object(b.jsx)(ut.a,{fontSize:"small"}),Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Delete Permanently"})]})]}):Object(b.jsxs)(Q.a,{onClick:function(){null!=P&&(null!=e.onDelete?e.onDelete(P):kn(P),$(P),X())},children:[Object(b.jsx)(ut.a,{fontSize:"small"}),Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Delete"})]})]})]}):Object(b.jsx)(r.a.Fragment,{children:ne})};function vn(e,t){var n=[];return 0===e.length?null!=t&&(n=[t]):n=Object(y.a)(e),n}function yn(e){return wn.apply(this,arguments)}function wn(){return(wn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof S)){e.next=6;break}return e.next=3,Z(t);case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,ae(t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(){return(Cn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.deleted=!1,t.archived=!1,yn(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.deleted?t.permanentlyDeleted=!0:t.deleted=!0,yn(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pinned=!t.pinned,yn(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.archived=!t.archived,yn(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}xn.defaultProps={mainFilter:{}};var En=n(813),Fn=n(814),Rn=n(807),Mn=n(782),An=n(783),Bn=Object(p.a)((function(e){return Object(X.a)({speedDial:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)}})})),Ln=[{icon:Object(b.jsx)(h.b,{to:"/mindmap",style:{marginTop:"6px"},children:Object(b.jsx)(Mn.a,{})}),name:"MindMap"},{icon:Object(b.jsx)(h.b,{to:"/note",style:{marginTop:"6px"},children:Object(b.jsx)(An.a,{})}),name:"Note"}];function Pn(){var e=Bn(),t=r.a.useState(!1),n=Object(w.a)(t,2),a=n[0],i=n[1],c=r.a.useState(!1),o=Object(w.a)(c,2),s=o[0],l=(o[1],function(){i(!1)});return Object(b.jsx)(En.a,{ariaLabel:"SpeedDial tooltip example",className:e.speedDial,hidden:s,icon:Object(b.jsx)(Fn.a,{}),onClose:l,onOpen:function(){i(!0)},open:a,children:Ln.map((function(e){return Object(b.jsx)(Rn.a,{icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,onClick:l},e.name)}))})}function Wn(){return Object(b.jsxs)(f,{children:[Object(b.jsx)(xn,{mainFilter:{isDeleted:!1,isPermanentlyDeleted:!1,isArchived:!1},filters:[{name:"Pinned",isPinned:!0},{name:"Others",isPinned:!1}],EmptyListComponent:Object(b.jsx)(Gt,{})}),Object(b.jsx)(Pn,{})]})}var Un={user:null,setUser:function(e){}},zn=r.a.createContext(Un);function Hn(e){return Object(b.jsx)(zn.Provider,{value:e.user,children:e.children})}function Vn(){var e=r.a.useContext(zn);if(null==e)throw new Error("User Context outside provider");return e}var Yn=n(319),Gn=n(800),qn=n(315),Zn=n(167),Jn=n(321),Xn=(Object(qn.a)({apiKey:"AIzaSyB8CXitZSb_CyJKg4gPt1SoCITCVZ3OGdo",authDomain:"timeline-app-1615725283013.firebaseapp.com",projectId:"timeline-app-1615725283013",storageBucket:"timeline-app-1615725283013.appspot.com",messagingSenderId:"319843936727",appId:"1:319843936727:web:4f8783189a1c3f802c0392",measurementId:"G-L14KR4L56S"}),Object(Jn.a)(),Object(Zn.b)());function Kn(){Xn.signOut()}Xn.useDeviceLanguage();function _n(e){var t=e.properties;return{id:e.id,name:e.name,type:ha(t.type),createdDate:parseInt(t.createdTime),editedDate:parseInt(t.modifiedTime),deletedDate:"null"===t.deletedTime||0===t.deletedTime.length?null:parseInt(t.deletedTime),isDeleted:"true"===t.isDeleted}}function Qn(){return $n.apply(this,arguments)}function $n(){return($n=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",window.gapi.client.drive.files.list({kind:"drive#fileList",incompleteSearch:!1,spaces:["appDataFolder"],fields:"nextPageToken, files(id, name,properties)",files:[]}).then((function(e){return e.result.files.map((function(e){return _n(e)}))})));case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",window.gapi.client.drive.files.get({fileId:t.id,alt:"media"}).then((function(e){return console.warn(e),e.result})));case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function na(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Object(v.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={resource:{name:t.name,mimeType:"application/json",media:{mediaType:"application/json",body:n},fields:"id",parents:["appDataFolder"],properties:{type:t.type,createdTime:t.createdDate.toString(),modifiedTime:t.editedDate.toString(),deletedTime:(t.deletedDate||"null").toString(),isDeleted:t.isDeleted?"true":"false"}}},null!=t.id&&""!==t.id){e.next=6;break}return e.abrupt("return",window.gapi.client.drive.files.create(a).then((function(e){return console.log("Created File"),console.log(e),e})));case 6:return e.abrupt("return",window.gapi.client.drive.files.put(a).then((function(e){return console.log("Updated File"),console.log(e),e})));case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ra(){return ia.apply(this,arguments)}function ia(){return(ia=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.reminders.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.reminders.add(t).catch((function(e){console.warn("Error Adding Reminder To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e){return la.apply(this,arguments)}function la(){return(la=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.reminders.put(t).catch((function(e){console.warn("Error Adding Reminder To Db"),console.log(e),console.log(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){P.attachments.add(e).catch((function(t){console.warn("Error Adding Attachment To Db "),console.log(t),console.log(e)}))}function da(e){P.attachments.put(e).catch((function(t){console.warn("Error Adding Attachment To Db "),console.log(t),console.log(e)}))}function ha(e){switch(e){case"Note":return D.SyncFileType.Note;case"MindMap":return D.SyncFileType.MindMap;case"Reminder":case"Category":return D.SyncFileType.Reminder;case"Tag":return D.SyncFileType.Tag;case"AttachmentRecord":return D.SyncFileType.AttachmentRecord;case"Attachment":return D.SyncFileType.Attachment;default:return console.warn("Unknown file type found"),D.SyncFileType.Unknown}}function ja(e){var t=e instanceof S?D.SyncFileType.Note:e instanceof T?D.SyncFileType.MindMap:e instanceof L?D.SyncFileType.Reminder:e instanceof N?D.SyncFileType.Category:D.SyncFileType.Tag,n=e instanceof S||e instanceof T?e.title:e instanceof L||e instanceof N||e instanceof I?e.name:"",a=e instanceof S||e instanceof T?e.deleted&&e.permanentlyDeleted:e.deleted;return{createdDate:e.createdDate,deletedDate:e.deletedDate,editedDate:e.editedDate,id:e.cloudId,isDeleted:a,name:n,type:t}}function pa(){return(pa=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qn();case 3:e.sent.forEach((function(e){U(e).then(function(){var t=Object(v.a)(x.a.mark((function t(n){var a,r,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null!=n,r=null!=n&&null!=n.editedDate&&n.editedDate>=e.editedDate,a&&r){t.next=29;break}return t.next=5,ea(e);case 5:if(null==(i=t.sent)||!i){t.next=26;break}i.cloudId=e.id,t.t0=e.type,t.next=t.t0===D.SyncFileType.Note?11:t.t0===D.SyncFileType.MindMap?13:t.t0===D.SyncFileType.Reminder?15:t.t0===D.SyncFileType.Category?17:t.t0===D.SyncFileType.Tag?19:t.t0===D.SyncFileType.AttachmentRecord?21:23;break;case 11:return a?a&&!r&&(e.isDeleted?z(e):Z(i)):G(i),t.abrupt("break",24);case 13:return a?a&&!r&&(e.isDeleted?z(e):ae(i)):te(i),t.abrupt("break",24);case 15:return a?a&&!r&&(e.isDeleted?z(e):sa(i)):ca(i),t.abrupt("break",24);case 17:return a?a&&!r&&(e.isDeleted?z(e):on(i)):rn(i),t.abrupt("break",24);case 19:return a?a&&!r&&(e.isDeleted?z(e):Dt(i)):Ct(i),t.abrupt("break",24);case 21:return a?a&&!r&&(e.isDeleted?z(e):da(i)):ua(i),t.abrupt("break",24);case 23:console.warn("Unkown File Type Found");case 24:t.next=27;break;case 26:console.warn("Requested file data invalid",n,i);case 27:t.next=30;break;case 29:console.log("found updated record in db");case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ba(){return(ba=Object(v.a)(x.a.mark((function e(){var t,n,a,r,i,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn();case 2:return t=e.sent,e.next=5,H();case 5:return n=e.sent,e.next=8,$();case 8:return a=e.sent,e.next=11,ra();case 11:return r=e.sent,e.next=14,nn();case 14:return i=e.sent,e.next=17,yt();case 17:return c=e.sent,e.next=20,ma(t,n);case 20:return e.next=22,ma(t,a);case 22:return e.next=24,ma(t,r);case 24:return e.next=26,ma(t,i);case 26:return e.next=28,ma(t,c);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return fa.apply(this,arguments)}function fa(){return(fa=Object(v.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.forEach((function(e){if(""===e.cloudId||null==e.cloudId)na(ja(e),JSON.stringify(e)).then((function(e){console.log("I found"),console.log(e)}));else{var n=t.find((function(t){return t.id===e.cloudId}));null!=n?e.editedDate>n.editedDate&&na(ja(e),JSON.stringify(e)).then((function(e){console.log("YO"),console.log(e)})):console.warn("cloudId missing in cloud")}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];function ga(e){try{var t=window.gapi.auth2.getAuthInstance();if(e){var n=t.currentUser.get().getAuthResponse(!0);console.log("AuthHelper : Singing Into Firebase with AuthResponse"),a=n.id_token,r=n.access_token,Object(Zn.c)(Xn,Zn.a.credential(a,r)),function(){pa.apply(this,arguments)}()}else console.log("AuthHelper:User Unsigned")}catch(i){console.log(i)}var a,r}function xa(){try{window.gapi.client.init({apiKey:"AIzaSyB8CXitZSb_CyJKg4gPt1SoCITCVZ3OGdo",clientId:"319843936727-uofur41kp6kbnv1btm2ifr7j1aalhak1.apps.googleusercontent.com",discoveryDocs:Oa,scope:"https://www.googleapis.com/auth/drive.appdata"}).then((function(){console.log("GAPI Client has been initialized"),window.gapi.auth2.getAuthInstance().isSignedIn.listen(ga),ga(window.gapi.auth2.getAuthInstance().isSignedIn.get())}),(function(e){console.log(e)}))}catch(e){console.log(e)}}function va(){try{window.gapi.auth2.getAuthInstance().signOut(),Kn()}catch(e){Kn(),console.log(e)}try{[P.notes,P.mindmaps,P.reminders,P.categories,P.tags].forEach((function(e){e.delete().then((function(e){console.log("Deleted Db",e)})).catch((function(e){console.log("Could Not Delete Db",e)}))}))}catch(e){console.log(e)}}var ya=n(29),wa=n(317),Ca=n.n(wa),ka=n(811),Da=n(785),Sa=n(786),Ta=n(787),Ia=Object(p.a)((function(e){var t;return Object(X.a)({appBar:(t={},Object(rt.a)(t,e.breakpoints.up("sm"),{width:"100%"}),Object(rt.a)(t,"background",e.palette.background.default),Object(rt.a)(t,"boxShadow","0px 0px 0px 0px"),Object(rt.a)(t,"borderBottom","1px solid "+e.palette.divider),t),menuButton:Object(rt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),search:Object(rt.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ya.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ya.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(rt.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),rightContainer:{marginLeft:"auto"},loginButton:{textTransform:"none"},profileImage:{width:"40px",height:"40px",borderRadius:"50%"},appBarContainer:{background:e.palette.background.default}})}));function Na(){var e=Ia(),t=Vn(),n=t.user,a=t.setUser,i=null!=n,c=r.a.useState(null),o=Object(w.a)(c,2),s=o[0],l=o[1],u=r.a.useState(null),d=Object(w.a)(u,2),h=d[0],j=d[1],p=ye(),m=p.setSettingsOpen,f=p.setAccountOpen,O=function(){l(null)},g=ye(),x=g.drawerOpen,v=g.setDrawerOpen;return Object(b.jsx)(it.a,{position:"fixed",className:"".concat(e.appBar),color:"transparent",children:Object(b.jsxs)(ct.a,{children:[Object(b.jsx)(se.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){v(!x)},className:e.menuButton,children:Object(b.jsx)(Ca.a,{})}),Object(b.jsx)(K.a,{variant:"h6",noWrap:!0,children:"Timeline"}),Object(b.jsxs)("div",{className:e.search,children:[Object(b.jsx)("div",{className:e.searchIcon,children:Object(b.jsx)(Da.a,{})}),Object(b.jsx)(xt.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(b.jsxs)("div",{className:e.rightContainer,children:[Object(b.jsx)(Ea,{}),i?Object(b.jsx)(se.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(b.jsx)(ka.a,{src:null===n||void 0===n?void 0:n.photoURL,alt:null===n||void 0===n?void 0:n.displayName})}):Object(b.jsx)(Nt.a,{color:"inherit",className:e.loginButton,onClick:function(){!function(){try{window.gapi.auth2.getAuthInstance().signIn()}catch(e){console.log(e)}}()},children:"Login"}),Object(b.jsx)(se.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},children:Object(b.jsx)(qe.a,{})})]}),Object(b.jsxs)(_.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:O,children:[Object(b.jsx)(Q.a,{onClick:O,children:"My Account"}),Object(b.jsx)(Q.a,{onClick:function(e){O(),va(),a(null)},children:"Logout"})]}),Object(b.jsxs)(_.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){j(null)},children:[Object(b.jsx)(Q.a,{onClick:function(){f(!0)},children:"Account"}),Object(b.jsx)(Q.a,{onClick:function(){m(!0)},children:"Settings"})]})]})})}function Ea(){var e=ye(),t=e.themeType,n=e.setThemeType;return Object(b.jsx)(se.a,{onClick:function(){t===ie.Light?n(ie.Dark):n(ie.Light)},children:t===ie.Dark?Object(b.jsx)(Sa.a,{}):Object(b.jsx)(Ta.a,{})})}var Fa=n(41),Ra=n(795),Ma=n(788),Aa=n(789),Ba=n(790),La=n(791),Pa=n(792),Wa=n(793),Ua=n(806),za=Object(p.a)((function(e){return Object(X.a)({drawer:Object(rt.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0,zIndex:99}),menuButton:Object(rt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(o.a)(Object(o.a)({},e.mixins.toolbar),{},{marginTop:"1em"}),drawerPaper:{width:240},sectionTitle:{marginLeft:"1.4em",color:e.palette.text.secondary},navLink:{textDecoration:"none",color:e.palette.text.primary},activeNavLink:{color:e.palette.getContrastText(e.palette.primary.light),backgroundColor:e.palette.primary.light,display:"block"}})}));function Ha(e){var t=ye(),n=t.drawerOpen,a=t.setDrawerOpen,r=za(),i=Object(Fa.a)(),c=Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:r.toolbar}),Object(b.jsx)(K.a,{variant:"caption",className:r.sectionTitle,children:"Dashboard"}),Object(b.jsx)(ht.a,{children:Object(b.jsx)(h.c,{to:"/",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(Ma.a,{})}),Object(b.jsx)(mt.a,{primary:"Personal"})]})})}),Object(b.jsx)(K.a,{variant:"caption",className:r.sectionTitle,children:"Produce"}),Object(b.jsxs)(ht.a,{children:[Object(b.jsx)(h.c,{to:"/reminders",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(Aa.a,{})}),Object(b.jsx)(mt.a,{primary:"Reminders"})]})}),Object(b.jsx)(h.c,{to:"/archive",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(Ba.a,{})}),Object(b.jsx)(mt.a,{primary:"Archive"})]})}),Object(b.jsx)(h.c,{to:"/trash",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(La.a,{})}),Object(b.jsx)(mt.a,{primary:"Trash"})]})})]}),Object(b.jsx)(K.a,{variant:"caption",className:r.sectionTitle,children:"Organize"}),Object(b.jsxs)(ht.a,{children:[Object(b.jsx)(h.c,{to:"/tags",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(Pa.a,{})}),Object(b.jsx)(mt.a,{primary:"Tags"})]})}),Object(b.jsx)(h.c,{to:"/categories",className:r.navLink,exact:!0,activeClassName:r.activeNavLink,children:Object(b.jsxs)(jt.a,{button:!0,children:[Object(b.jsx)(pt.a,{children:Object(b.jsx)(Wa.a,{})}),Object(b.jsx)(mt.a,{primary:"Categories"})]})})]})]});return Object(b.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(b.jsx)(Ua.a,{smUp:!0,implementation:"css",children:Object(b.jsx)(Ra.a,{variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:n,onClose:function(){a(!n)},classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:c})}),Object(b.jsx)(Ua.a,{xsDown:!0,implementation:"css",children:Object(b.jsx)(Ra.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:c})})]})}var Va=n(796),Ya=Object(p.a)((function(e){return{root:{display:"flex"}}}));function Ga(e){var t=Ya(),n=null==e.className?"":e.className;return Object(b.jsxs)("div",{className:"".concat(t.root," ").concat(n),children:[Object(b.jsx)(Va.a,{}),e.children]})}var qa=n(797),Za=(n(701),Object(C.a)((function(e){return Object(X.a)({editorContainer:{},noteEditor:{width:"100%",padding:"1rem 1rem 1rem 2rem"},noteTitle:{width:"100%",border:0,outline:0,padding:"1rem 1rem 1rem 2rem",fontSize:e.typography.h3.fontSize,fontFamily:e.typography.h4.fontFamily}})})));function Ja(){var e=Object(j.g)().id,t=Za(),n=Object(a.useState)(new S),r=Object(w.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(i.title),s=Object(w.a)(o,2),l=s[0],u=s[1],d=Me().notes;Object(a.useEffect)((function(){if(null!=e)try{(function(e){return Y.apply(this,arguments)})(parseInt(e)).then((function(e){null!=e&&(c(e),u(e.title))}))}catch(t){console.log(t)}else i.id=Se(d)}),[e,d]);var p=ye().themeType;return Object(b.jsx)(f,{children:Object(b.jsxs)("div",{className:"".concat(t.editorContainer),children:[Object(b.jsx)(h.b,{to:"/",onClick:function(){i.title=l,i.editedDate=Date.now(),Z(i).then((function(){(function(){return ba.apply(this,arguments)})().then((function(e){return console.log(e)}))}))},children:Object(b.jsx)(se.a,{children:Object(b.jsx)(qa.a,{})})}),Object(b.jsx)(xt.a,{type:"text",value:l,className:t.noteTitle,onChange:function(e){console.log(e.target.value),u(e.target.value)},placeholder:"Title"}),Object(b.jsx)(je.a,{className:"".concat(t.noteEditor),onChange:function(e){i.text=e()},value:i.text,placeholder:"Note",theme:p===ie.Dark?De:ke})]})})}var Xa=n(784),Ka=n(769),_a=n(803),Qa=n(47),$a=n(801),er=n(162),tr=Object(p.a)((function(e){return Object(X.a)({root:{display:"flex",flexDirection:"column"},formControl:{},formRow:{width:"100%"},formRowMargin:{width:"100%",marginTop:"1em"},marginContainer:{margin:"1em"},centerText:{textAlign:"center"},buttonsContainer:{display:"flex",flexFlow:"row no-wrap",justifyContent:"flex-end"},daysContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",marginTop:"1em"},dayBtn:{width:"3em",height:"3em",borderRadius:"50%",padding:"0.4em"},dayItem:{width:"2em",height:"2em",lineHeight:"1.75em",textAlign:"center",background:"rgba(0,0,0,.15)",borderRadius:"50%",cursor:"pointer"},dayItemText:{fontSize:"16px"},selectedDayItem:{border:"1px solid "+e.palette.text.secondary,background:e.palette.primary.main},monthContainer:{marginTop:"1em"},monthRow:{display:"flex",flexDirection:"row",alignItems:"center"},untilEvents:{margin:"1em"}})})),nr=function(e){var t=tr(),n=e.reminder,i=r.a.useState(n.intervalType),c=Object(w.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(n.intervalNumber),u=Object(w.a)(l,2),d=u[0],h=u[1],j=Object(a.useState)("forever"),p=Object(w.a)(j,2),m=p[0],f=p[1],g=Object(a.useState)(n.weekDays),x=Object(w.a)(g,2),v=x[0],C=x[1],k=Object(a.useState)(n.sameMonthDay),D=Object(w.a)(k,2),S=D[0],T=D[1],I=Object(a.useState)(!1),N=Object(w.a)(I,2),F=N[0],R=N[1],M=Object(a.useState)(null==n.untilDate?null:new Date(n.untilDate)),A=Object(w.a)(M,2),B=A[0],L=A[1],P=Object(a.useState)(n.untilEvents||1),W=Object(w.a)(P,2),U=W[0],z=W[1];return Object(a.useEffect)((function(){!function(e){s(e.intervalType),h(e.intervalNumber),e.forever?f("forever"):null!=e.untilDate?f("date"):null!=e.untilEvents&&f("events"),C(e.weekDays),T(e.sameMonthDay),L(null==e.untilDate?null:new Date(e.untilDate))}(e.reminder)}),[e.reminder]),Object(b.jsx)(Ot.a,{open:e.isOpen,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)(Ka.a,{variant:"filled",className:"".concat(t.formControl," ").concat(t.formRow),children:Object(b.jsxs)(_a.a,{value:o,onChange:function(e){s(e.target.value)},renderValue:function(e){return e===O.Day?"Repeats daily":e===O.Week?"Repeats weekly":e===O.Month?"Repeats monthly":e===O.Year?"Repeats yearly":e},children:[Object(b.jsx)(Q.a,{value:O.Day,children:"Daily"}),Object(b.jsx)(Q.a,{value:O.Week,children:"Weekly"}),Object(b.jsx)(Q.a,{value:O.Month,children:"Monthly"}),Object(b.jsx)(Q.a,{value:O.Year,children:"Yearly"})]})}),Object(b.jsxs)("div",{className:t.marginContainer,children:[Object(b.jsxs)(K.a,{children:["Repeats every ",Object(b.jsx)(Et.a,{inputProps:{className:t.centerText},type:"number",value:d,onChange:function(e){h(parseInt(e.target.value)),n.intervalNumber=parseInt(e.target.value)}})," ",o,d>1?"s":null]}),o===O.Week?Object(b.jsx)("div",{className:t.daysContainer,children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map((function(e){return Object(b.jsx)(se.a,{className:t.dayBtn,onClick:function(){var t=v.indexOf(e);if(t>-1){var n=Object(y.a)(v);n.splice(t,1),C(n)}else C([].concat(Object(y.a)(v),[e]))},children:Object(b.jsx)("div",{className:"".concat(t.dayItem," ").concat(v.indexOf(e)>-1?t.selectedDayItem:""),children:Object(b.jsx)("span",{className:t.dayItemText,children:e[0].toUpperCase()+e.substring(1,3)})},e)})}))}):o===O.Month?Object(b.jsxs)("div",{className:t.monthContainer,children:[Object(b.jsxs)("div",{className:t.monthRow,children:[Object(b.jsx)($t.a,{checked:S,onClick:function(){return T(!0)}}),Object(b.jsx)(K.a,{children:"Same day of the next month"})]}),Object(b.jsxs)("div",{className:t.monthRow,children:[Object(b.jsx)($t.a,{checked:!S,onClick:function(){return T(!1)}}),Object(b.jsx)(K.a,{children:"Same date of the next month"})]})]}):null,Object(b.jsx)(Ka.a,{variant:"outlined",className:"".concat(t.formControl," ").concat(t.formRowMargin),children:Object(b.jsxs)(_a.a,{value:m,onChange:function(e){var t=e.target.value;"date"===t&&R(!0),f(t)},renderValue:function(e){return"forever"===e?"Repeats forever":"date"===e&&null!=B?"Until "+Object(E.a)(B,"p PPPP"):"events"===e?"For "+U+" events":e},children:[Object(b.jsx)(Q.a,{value:"forever",children:"Forever"}),Object(b.jsx)(Q.a,{value:"date",children:"Until Specified Date"}),Object(b.jsx)(Q.a,{value:"events",children:"For number of events"})]})}),"events"===m?Object(b.jsx)(Et.a,{type:"number",value:U,className:t.untilEvents,onChange:function(e){return z(parseInt(e.target.value))}}):null,Object(b.jsx)(Qa.a,{utils:er.a,children:Object(b.jsx)($a.a,{value:B,open:F,onClose:function(){return R(!1)},disablePast:!0,onChange:function(e){null!=e&&(L(e),n.time=e.getTime())},TextFieldComponent:function(){return null}})}),Object(b.jsxs)("div",{className:"".concat(t.buttonsContainer," ").concat(t.formRowMargin),children:[Object(b.jsx)(Nt.a,{variant:"outlined",onClick:function(){return e.onClose()},children:"Cancel"}),"\xa0",Object(b.jsx)(Nt.a,{variant:"outlined",onClick:function(){n.repeat=!0,n.intervalType=o,n.intervalNumber=d,n.weekDays=v,n.sameMonthDay=S,"forever"===m?n.forever=!0:"date"===m&&null!=B?n.untilDate=B.getTime():"events"===m&&(n.untilEvents=U),e.onClose()},children:"Set"})]})]})]})})},ar=Object(p.a)((function(e){return Object(X.a)({formControl:{},root:{display:"flex",flexDirection:"column",margin:"1em"},formRow:{width:"100%",marginTop:"1em"},buttonsContainer:{display:"flex",flexFlow:"row no-wrap",justifyContent:"flex-end"}})})),rr=function(e){var t=Me(),n=t.reminders,r=t.initReminders,i=e.reminder||new L,c=ar(),o=Object(a.useState)(i.name),s=Object(w.a)(o,2),l=s[0],u=s[1],d=Object(a.useState)(i.description),h=Object(w.a)(d,2),j=h[0],p=h[1],m=Object(a.useState)(new Date(i.time)),f=Object(w.a)(m,2),g=f[0],x=f[1],v=Object(a.useState)("hour"),y=Object(w.a)(v,2),C=y[0],k=y[1],D=Object(a.useState)("none"),S=Object(w.a)(D,2),T=S[0],I=S[1],N=Object(a.useState)(!1),F=Object(w.a)(N,2),R=F[0],M=F[1],A=Object(a.useState)(!1),B=Object(w.a)(A,2),P=B[0],W=B[1],U=function(e){e.repeat?e.intervalType===O.Hour?I("hourly"):e.intervalType===O.Day?I("daily"):e.intervalType===O.Week?I("weekly"):e.intervalType===O.Month?I("monthly"):e.intervalType===O.Year&&I("yearly"):I("none")};return Object(a.useEffect)((function(){null!=e.reminder&&function(e){u(e.name),p(e.description),U(e),x(new Date(e.time))}(e.reminder)}),[e.reminder]),Object(b.jsxs)(Ot.a,{open:e.isOpen,onClose:e.onClose,maxWidth:"xs",fullWidth:!0,children:[Object(b.jsxs)("form",{className:c.root,noValidate:!0,autoComplete:"off",children:[Object(b.jsx)(K.a,{variant:"h6",children:"Create Reminder"}),Object(b.jsx)(Et.a,{id:"outlined-basic",label:"Name",variant:"outlined",className:c.formRow,value:l,onChange:function(e){u(e.target.value),i.name=e.target.value}}),Object(b.jsx)(Et.a,{id:"outlined-basic",label:"Description",variant:"outlined",className:c.formRow,value:j,onChange:function(e){p(e.target.value),i.description=e.target.value}}),Object(b.jsx)(Ka.a,{variant:"outlined",className:"".concat(c.formControl," ").concat(c.formRow),children:Object(b.jsxs)(_a.a,{value:C,onChange:function(e){var t=e.target.value;"hour"===t||"tomorrow"===t||"t-morning"===t||M(!0),k(t)},renderValue:function(e){return"hour"===e?"Rings after an hour":"tomorrow"===e?"Rings tomorrow":"t-morning"===e?"Rings tomorrow morning":Object(E.a)(g,"p PPPP")},children:[Object(b.jsx)(Q.a,{value:"hour",children:"After an hour"}),Object(b.jsx)(Q.a,{value:"tomorrow",children:"Tomorrow"}),Object(b.jsx)(Q.a,{value:"t-morning",children:"Tomorrow Morning"}),Object(b.jsx)(Q.a,{value:"CustomDate",children:"Pick Date & Time"})]})}),Object(b.jsx)(Qa.a,{utils:er.a,children:Object(b.jsx)($a.a,{value:g,open:R,onClose:function(){return M(!1)},disablePast:!0,onChange:function(e){null!=e&&x(e)},TextFieldComponent:function(){return null}})}),Object(b.jsx)(Ka.a,{variant:"outlined",className:"".concat(c.formControl," ").concat(c.formRow),children:Object(b.jsxs)(_a.a,{value:T,onChange:function(e){var t=e.target.value;"custom"===t&&W(!0),I(t)},renderValue:function(e){return"none"===e?"Does not repeat":"daily"===e?"Repeats daily":"weekly"===e?"Repeats weekly":"monthly"===e?"Repeats monthly":"yearly"===e?"Repeats yearly":void 0},children:[Object(b.jsx)(Q.a,{value:"none",children:"None"}),Object(b.jsx)(Q.a,{value:"daily",children:"Daily"}),Object(b.jsx)(Q.a,{value:"weekly",children:"Weekly"}),Object(b.jsx)(Q.a,{value:"monthly",children:"Monthly"}),Object(b.jsx)(Q.a,{value:"yearly",children:"Yearly"}),Object(b.jsx)(Q.a,{value:"custom",children:"Custom"})]})}),Object(b.jsxs)("div",{className:"".concat(c.buttonsContainer," ").concat(c.formRow),children:[Object(b.jsx)(Nt.a,{variant:"outlined",onClick:function(){return e.onClose()},children:"Cancel"}),"\xa0",Object(b.jsx)(Nt.a,{variant:"outlined",onClick:function(){i.name=l,i.description=j,i.time=g.getTime(),"none"===T?i.repeat=!1:"daily"===T?(i.repeat=!0,i.intervalType=O.Day):"weekly"===T?(i.repeat=!0,i.intervalType=O.Week):"monthly"===T?(i.repeat=!0,i.intervalType=O.Month):"yearly"===T&&(i.repeat=!0,i.intervalType=O.Year),null==i.id?(i.id=Se(n),ca(i)):sa(i),e.onClose(),r()},children:"Set"})]})]}),Object(b.jsx)(nr,{isOpen:P,onClose:function(){W(!1),U(i)},reminder:i})]})},ir=n(798),cr=Object(p.a)((function(e){return Object(X.a)({reminderText:{display:"flex",flexDirection:"column"}})}));function or(e){var t=cr(),n=e.reminder;return Object(b.jsxs)(r.a.Fragment,{children:[e.isSelectionMode?Object(b.jsx)(pt.a,{children:Object(b.jsx)(ft.a,{edge:"start",checked:e.isSelected,tabIndex:-1,disableRipple:!0})}):Object(b.jsx)(pt.a,{children:Object(b.jsx)(ir.a,{})}),Object(b.jsxs)("div",{className:t.reminderText,children:[Object(b.jsx)(mt.a,{primary:n.name,secondary:n.description}),Object(b.jsx)(mt.a,{primary:A(n),secondary:B(n)})]}),Object(b.jsx)(bt.a,{style:{marginRight:"1em"},children:Object(b.jsx)(se.a,{edge:"end","aria-label":"menu",onClick:function(t){e.onShowMenu(t.currentTarget)},children:Object(b.jsx)(qe.a,{})})})]})}var sr=function(e){return Object(b.jsx)(lt,{title:e.checked.length.toString(),isVisible:e.checked.length>0,onClose:function(){return e.setChecked([])},children:Object(b.jsx)(se.a,{onClick:e.onDelete,children:Object(b.jsx)(ut.a,{})})})};sr.defaultProps={};var lr=Object(p.a)((function(e){return Object(X.a)({menuItem:{}})}));function ur(e){var t=lr(),n=Me().initReminders;return Object(b.jsxs)(_.a,{open:Boolean(e.anchorEl),onClose:e.onMenuClose,anchorEl:e.anchorEl,children:[Object(b.jsx)(Q.a,{onClick:function(){e.onItemSelect(),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Select"})}),Object(b.jsx)(Q.a,{onClick:function(){e.onShowReminderDialog(),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Edit"})}),Object(b.jsx)(Q.a,{onClick:function(){jr(e.reminder).then((function(){n()})),e.onMenuClose()},children:Object(b.jsx)(K.a,{variant:"inherit",className:t.menuItem,children:"Delete"})})]})}var dr=Object(p.a)((function(e){return Object(X.a)({remindersList:{width:"100%",backgroundColor:e.palette.background.paper}})}));function hr(e){var t=dr(),n=r.a.useState([]),i=Object(w.a)(n,2),c=i[0],s=i[1],l=Me(),u=l.reminders,d=l.initReminders;Object(a.useEffect)((function(){d()}),[d]);var h=function(e){var t=c.findIndex((function(t){return t.id===e})),n=Object(y.a)(c);if(t<0){var a=u.find((function(t){return t.id===e}));null!=a&&n.push(a)}else n.splice(t,1);s(n)},j=Pt({onLongPress:function(e){var t=parseInt(e.currentTarget.getAttribute("reminderid").trim());null!=t&&h(t)},onClick:function(e){if(c.length>0){var t=parseInt(e.currentTarget.getAttribute("reminderid").trim());null!=t&&h(t)}}},{delay:600}),p=Object(a.useState)(!1),m=Object(w.a)(p,2),f=m[0],O=m[1],g=Object(a.useState)(new L),x=Object(w.a)(g,2),v=x[0],C=x[1],k=Object(a.useState)(),D=Object(w.a)(k,2),S=D[0],T=D[1],I=e.EmptyListComponent;return u.length>0?Object(b.jsxs)(ht.a,{className:t.remindersList,children:[u.map((function(e){return Object(b.jsx)(jt.a,Object(o.a)(Object(o.a)({reminderid:e.id,dense:!0,button:!0},j),{},{children:Object(b.jsx)(or,{isSelectionMode:c.length>0,isSelected:c.indexOf(e)>-1,reminder:e,onShowMenu:function(t){C(e),T(t)}})}),e.id)})),Object(b.jsx)(ur,{onMenuClose:function(){return T(null)},anchorEl:S,reminder:v,onShowReminderDialog:function(){return O(!0)},onItemSelect:function(){null!=v.id&&h(v.id)}}),Object(b.jsx)(rr,{reminder:v,isOpen:f,onClose:function(){return O(!1)}}),Object(b.jsx)(sr,{checked:c,setChecked:s,onDelete:function(){c.forEach((function(e){null!=e&&jr(e).then((function(){return d()}))})),s([])}})]}):Object(b.jsx)(r.a.Fragment,{children:I})}function jr(e){return pr.apply(this,arguments)}function pr(){return(pr=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.deleted=!0,e.next=3,sa(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br=Object(C.a)((function(e){return Object(X.a)({reminderFab:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4),background:e.palette.primary.main}})}));function mr(){var e=br(),t=Object(a.useState)(!1),n=Object(w.a)(t,2),r=n[0],i=n[1];return Object(b.jsxs)(f,{children:[Object(b.jsx)(hr,{EmptyListComponent:Object(b.jsx)(Gt,{})}),Object(b.jsx)(rr,{isOpen:r,onClose:function(){return i(!1)}}),Object(b.jsx)(Xa.a,{onClick:function(){i(!0)},className:e.reminderFab,children:Object(b.jsx)(Aa.a,{})})]})}function fr(){return Object(b.jsx)(f,{children:Object(b.jsx)(xn,{mainFilter:{isDeleted:!0,isPermanentlyDeleted:!1},onDelete:function(e){e.deleted=!0,e.permanentlyDeleted=!0,yn(e)},EmptyListComponent:Object(b.jsx)(Gt,{})})})}function Or(){return Object(b.jsxs)(f,{children:[Object(b.jsx)(xn,{mainFilter:{isDeleted:!1,isPermanentlyDeleted:!1,isArchived:!0},EmptyListComponent:Object(b.jsx)(Gt,{})}),Object(b.jsx)(Pn,{})]})}var gr=n(794),xr=n(799),vr=Object(p.a)((function(e){return Object(X.a)({setting:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}})}));function yr(e){var t=vr(),n=e.open,a=e.setOpen,r=Object(Fa.a)(),i=Object(gr.a)(r.breakpoints.down("sm")),c=function(){a(!1)};return Object(b.jsx)("div",{children:Object(b.jsxs)(Ot.a,{fullScreen:i,open:n,onClose:c,"aria-labelledby":"responsive-dialog-title",maxWidth:"xs",fullWidth:!0,children:[Object(b.jsx)(Mt.a,{id:"responsive-dialog-title",children:"Settings"}),Object(b.jsx)(Rt.a,{children:Object(b.jsxs)("div",{className:t.setting,children:[Object(b.jsx)(K.a,{children:"Use Pagination"}),Object(b.jsx)(xr.a,{})]})}),Object(b.jsx)(Ft.a,{children:Object(b.jsx)(Nt.a,{autoFocus:!0,onClick:c,color:"primary",children:"Close"})})]})})}var wr=n(207),Cr=n.n(wr),kr=n(318),Dr=n.n(kr),Sr=n(708),Tr=Object(p.a)((function(e){return Object(X.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},container:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:e.spacing(4)},userContainer:{display:"flex",flexDirection:"row",marginTop:e.spacing(5)},infoContainer:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:e.spacing(6)},userPhoto:{width:"6rem",height:"6rem"},userEmail:{color:e.palette.text.secondary},optionsContainer:{marginTop:e.spacing(10),width:"20rem",display:"flex",flexDirection:"column"}})})),Ir=r.a.forwardRef((function(e,t){return Object(b.jsx)(Sr.a,Object(o.a)({direction:"up",ref:t},e))}));function Nr(e){var t=Tr(),n=e.open,a=e.setOpen,r=Vn().user;return Object(b.jsxs)(Ot.a,{fullScreen:!0,open:n,onClose:function(){return a(!1)},TransitionComponent:Ir,children:[Object(b.jsx)(it.a,{className:t.appBar,children:Object(b.jsxs)(ct.a,{children:[Object(b.jsx)(se.a,{edge:"start",color:"inherit",onClick:function(){return a(!1)},"aria-label":"close",children:Object(b.jsx)(Dr.a,{})}),Object(b.jsx)(K.a,{variant:"h6",className:t.title,children:"Account"})]})}),Object(b.jsxs)("div",{className:t.container,children:[null!=r?Object(b.jsxs)("div",{className:t.userContainer,children:[Object(b.jsx)(ka.a,{alt:r.displayName,src:r.photoURL,className:t.userPhoto}),Object(b.jsxs)("div",{className:t.infoContainer,children:[Object(b.jsx)(K.a,{variant:"h3",children:r.displayName}),Object(b.jsx)(K.a,{variant:"h6",className:t.userEmail,children:r.email})]})]}):null,Object(b.jsx)("div",{className:t.optionsContainer,children:Object(b.jsx)(Nt.a,{variant:"outlined",onClick:function(){va(),a(!1)},children:"Signout"})})]})]})}var Er=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getSavedTheme=function(){var e=Cr.a.get("theme");return null!=e?e:ie.Light},e.state={user:null,storage:{notes:[],mindmaps:[],reminders:[],categories:[],tags:[]},appState:{themeType:e.getSavedTheme(),drawerOpen:!1,settingsOpen:!1,accountOpen:!1}},e.setupGapi=function(){var e=document.createElement("script");e.setAttribute("async","async"),e.setAttribute("defer","defer"),e.src="https://apis.google.com/js/api.js",e.onload=function(){if(window.gapi)try{window.gapi.load("client:auth2",xa)}catch(e){console.log(e)}},document.body.appendChild(e)},e.setUser=function(t){e.setState({user:t})},e.setThemeType=function(t){e.setState({appState:Object(o.a)(Object(o.a)({},e.state.appState),{},{themeType:t})}),Cr.a.set("theme",t)},e.setDrawerOpen=function(t){e.setState({appState:Object(o.a)(Object(o.a)({},e.state.appState),{},{drawerOpen:t})})},e.setSettingsOpen=function(t){e.setState({appState:Object(o.a)(Object(o.a)({},e.state.appState),{},{settingsOpen:t})})},e.setAccountOpen=function(t){e.setState({appState:Object(o.a)(Object(o.a)({},e.state.appState),{},{accountOpen:t})})},e.initNotes=function(){H().then((function(t){e.setState({storage:Object(o.a)(Object(o.a)({},e.state.storage),{},{notes:t.filter((function(e){return!e.permanentlyDeleted}))})})}))},e.initMindMaps=function(){$().then((function(t){e.setState({storage:Object(o.a)(Object(o.a)({},e.state.storage),{},{mindmaps:t.filter((function(e){return!e.permanentlyDeleted}))})})}))},e.initReminders=function(){ra().then((function(t){e.setState({storage:Object(o.a)(Object(o.a)({},e.state.storage),{},{reminders:M(t.filter((function(e){return!e.deleted})))})})}))},e.initCategories=function(){nn().then((function(t){e.setState({storage:Object(o.a)(Object(o.a)({},e.state.storage),{},{categories:t.filter((function(e){return!e.deleted})).reverse()})})}))},e.initTags=function(){yt().then((function(t){e.setState({storage:Object(o.a)(Object(o.a)({},e.state.storage),{},{tags:t.filter((function(e){return!e.deleted})).reverse()})})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;e=function(e){t.setState({user:e})},Xn.onAuthStateChanged((function(t){null!=t&&e(t)})),this.setupGapi(),this.initNotes(),this.initMindMaps(),this.initReminders(),this.initCategories(),this.initTags()}},{key:"render",value:function(){var e;return e=this.state.appState.themeType===ie.Dark?Object(Yn.a)(Oe):Object(Yn.a)(fe),Object(b.jsx)(Gn.a,{theme:e,children:Object(b.jsx)(Hn,{user:{user:this.state.user,setUser:this.setUser},children:Object(b.jsx)(Re,{storage:Object(o.a)(Object(o.a)({},this.state.storage),{},{initNotes:this.initNotes,initMindMaps:this.initMindMaps,initReminders:this.initReminders,initCategories:this.initCategories,initTags:this.initTags}),children:Object(b.jsx)(ve,{state:{themeType:this.state.appState.themeType,setThemeType:this.setThemeType,drawerOpen:this.state.appState.drawerOpen,setDrawerOpen:this.setDrawerOpen,settingsOpen:this.state.appState.settingsOpen,setSettingsOpen:this.setSettingsOpen,accountOpen:this.state.appState.accountOpen,setAccountOpen:this.setAccountOpen},children:Object(b.jsx)(h.a,{children:Object(b.jsxs)(Ga,{className:e.palette.type,children:[Object(b.jsx)(Na,{}),Object(b.jsx)(Ha,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/note/:id?",children:Object(b.jsx)(Ja,{})}),Object(b.jsx)(j.a,{path:"/reminders",children:Object(b.jsx)(mr,{})}),Object(b.jsx)(j.a,{path:"/categories",children:Object(b.jsx)(un,{})}),Object(b.jsx)(j.a,{path:"/tags",children:Object(b.jsx)(qt,{})}),Object(b.jsx)(j.a,{path:"/archive",children:Object(b.jsx)(Or,{})}),Object(b.jsx)(j.a,{path:"/trash",children:Object(b.jsx)(fr,{})}),Object(b.jsx)(j.a,{path:"/",children:Object(b.jsx)(Wn,{})})]}),Object(b.jsx)(Nr,{open:this.state.appState.accountOpen,setOpen:this.setAccountOpen}),Object(b.jsx)(yr,{open:this.state.appState.settingsOpen,setOpen:this.setSettingsOpen})]})})})})})})}}]),n}(r.a.Component);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Er,{})}),document.getElementById("root"))}},[[702,1,2]]]);
//# sourceMappingURL=main.929bd31e.chunk.js.map